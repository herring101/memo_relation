# Pythonのデコレータ

## デコレータとは

関数（またはクラス）を修飾するための構文であり、関数やクラスの振る舞いを変更することができる。

## デコレータの作成方法

デコレータは関数を定義して作成できる。以下のポイントに注意しながら作成する。

- デコレータは引数としてデコレート対象の関数（またはクラス）を受け取る。
- デコレータは新しい関数（またはクラス）を返す。
- デコレータで作成された関数（またはクラス）はデコレート対象の関数（またはクラス）を置き換える。
- デコレート対象の関数（またはクラス）を呼び出す前後で処理を追加することができる。

## デコレータの活用方法

デコレータは以下のような場面で活用されることがある。

- ログ出力の追加
- 計測時間の取得
- キャッシュの利用
- 入力チェックの追加
- 例外のハンドリング

## デコレータの注意点

デコレータは便利な機能である一方で、以下のような注意点もある。

- デコレータを複数重ねる場合、上から順に実行されるため、予期しない振る舞いをすることがある。
- デコレータを使用すると、デコレート対象の関数の属性やメタデータが失われてしまう場合がある。
- デコレータを使用すると、デコレート対象の関数のシグネチャが変更される場合がある。

## デコレータの具体例

```python
def log_decorator(func):
    def wrapper(*args, **kwargs):
        print(f"Calling {func.__name__}")
        result = func(*args, **kwargs)
        print(f"Finished calling {func.__name__}")
        return result
    return wrapper

@log_decorator
def add(a, b):
    return a + b

print(add(1, 2))  # 出力結果: Calling add, Finished calling add, 3
```